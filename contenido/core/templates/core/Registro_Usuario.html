<!doctype html>
{%load static%}
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'core/css/stylee.css' %}">
    <title>Registro de usuario</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">   
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="{% url 'home'%}">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{% url 'registro.html'%}">Registro de Libros</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
             Registrar
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="{% url 'reg_user'%}">Un Nuevo Usuario</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="{% url 'mk_libro'%}">Un Nuevo Libro</a>
            </div>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container">
    <h1>Registro de Usuario</h1>
    <form action="" id="formulario">
      <div class="form-group">
          <label for="nombre">Nombre</label>
          <input type="text" name="nombre" id="nombre" class="form-control" placeholder="Ingrese Nombre">
          <div id="alert1"></div>
          <br>
          <div class="alert alert-danger" id="error1"></div>
      </div>
      <div class="form-group">
          <label for="email">Email</label>
          <input type="email" name="email" id="email" class="form-control" placeholder="Ingrese Email">
          <div id="alert2"></div>
          <br>
          <div class="alert alert-danger" id="error2"></div>
      </div>
           <div class="form-group">
          <label for="contraseña">Contraseña</label>
          <input type="password" name="contraseña" id="contraseña" class="form-control" placeholder="Ingrese Contraseña">
          <div id="alert3"></div>
          <br>
          <div class="alert alert-danger" id="error3"></div>
      </div>
      <div class="form-group">
          <label for="rcontraseña">Confirmación de contraseña</label>
          <input type="password" name="rcontraseña" id="rcontraseña" class="form-control" placeholder="Ingrese La confirmación de contraseña">
          <div id="alert4"></div>
          <br>
          <div class="alert alert-danger" id="error4"></div>
      </div>
      <div class="form-group">
          <label for="extra-info">Comentario</label>
          <br>
          <textarea name="extra-info" id="extra-info" cols="151" rows="2" placeholder="Ingrese Comentario (Opcional)"></textarea>
      </div>
      <input type="submit" class="btn btn-danger" value="enviar" id="enviar">
      <input type="reset" class="btn btn-primary" value="limpiar" id="limpiar">
  </form>
</div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>

    <script>
      $(document).ready(function(){
                $("#error1").hide();
                $("#formulario").submit(function(){
                    var mensaje1 = "";
                        if($("#nombre").val().trim().length == 0){
                            mensaje1 = "El nombre esta en blanco"
                        }
                        if(mensaje1 != ""){
                            $("#error1").html(mensaje1);
                            $("#error1").show();
                            event.preventDefault();
                        }
                        if($("#nombre").val().trim().length != 0){
                            $("#error1").hide();
                        }
            });
        });
        $(document).ready(function(){
                $("#error2").hide();
                $("#formulario").submit(function(){
                    var mensaje2 = "";
                        if($("#email").val().trim().length == 0){
                            mensaje2 = "El email esta en blanco"
                        }
                        if(mensaje2 != ""){
                            $("#error2").html(mensaje2);
                            $("#error2").show();
                            event.preventDefault();
                        }
                        if($("#email").val().trim().length != 0){
                            $("#error2").hide();
                        }
            });
        });
        $(document).ready(function(){
                $("#error3").hide();
                $("#formulario").submit(function(){
                    var mensaje3 = "";
                        if($("#contraseña").val().trim().length == 0){
                            mensaje3 = "La contraseña esta en blanco"
                        }
                        if(mensaje3 != ""){
                            $("#error3").html(mensaje3);
                            $("#error3").show();
                            event.preventDefault();
                        }
                        if($("#contraseña").val().trim().length != 0){
                            $("#error3").hide();
                        }
            });
        });
        $(document).ready(function(){
                $("#error4").hide();
                $("#formulario").submit(function(){
                    var mensaje4 = "";
                        if($("#rcontraseña").val().trim().length == 0){
                            mensaje4 = "La confirmación de contraseña esta en blanco"
                        }
                        if(mensaje4 != ""){
                            $("#error4").html(mensaje4);
                            $("#error4").show();
                            event.preventDefault();
                        }
                        if($("#rcontraseña").val().trim().length != 0){
                            $("#error4").hide();
                        }
                        if((document.getElementById("contraseña").value) != (document.getElementById("rcontraseña").value)){
                            mensaje4 = "Las contraseñas no coinciden"
                            $("#error4").html(mensaje4);
                            $("#error4").show();
                            event.preventDefault();
                        }
            });
          });
          $("#limpiar").click(function(){
                $("#error1").hide();
                $("#error2").hide();
                $("#error3").hide();
                $("#error4").hide();            
        });
    </script>

  </body>
</html>